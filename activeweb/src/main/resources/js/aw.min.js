const __aw_bind=e=>{e.querySelectorAll("a[data-link=aw]").forEach(e=>e.addEventListener("click",__aw_support))},__aw_support=ev=>{ev.preventDefault();let anchor=ev.target,destination=anchor.getAttribute("data-destination"),formId=anchor.getAttribute("data-form"),href=anchor.getAttribute("href"),method=anchor.getAttribute("data-method")||"get",before=anchor.getAttribute("data-before"),after=anchor.getAttribute("data-after"),beforeArg=anchor.getAttribute("data-before-arg"),afterArg=anchor.getAttribute("data-after-arg"),error=anchor.getAttribute("data-error"),csrfToken=anchor.getAttribute("data-csrf-token"),csrfParam=anchor.getAttribute("data-csrf-param"),confirmMessage=anchor.getAttribute("data-confirm");if(null!=confirmMessage&&!confirm(confirmMessage))return!1;if(null!=before&&eval(before)(beforeArg),method=method.toLowerCase(),null==destination){if(null===formId)return!0;{let form=document.getElementById(formId);if(null!==form){let originAction=form.getAttribute("action"),originMethod=form.getAttribute("method");null!=originAction&&href!==originAction&&console.warn("The original form (id="+formId+") action is incorrect. "+href+" is used"),method!==form.getAttribute("method").toLowerCase()&&console.warn("Required action '"+method+"' is incorrect. The original form (id="+formId+") method '"+originMethod+"' is used."),form.setAttribute("action",href),form.submit()}else console.error("Form not found with id="+formId);return!1}}let contentType="application/x-www-form-urlencoded",encType,data;if(null!==formId){let form=document.getElementById(formId);encType=form.getAttribute("enctype"),null!==encType&&(contentType=encType.toLowerCase());let formData=new FormData(form);if("get"!==method&&null!=csrfToken&&(formData.has(csrfToken)||formData.set(csrfParam,csrfToken)),contentType.startsWith("application/json")){let object={};formData.forEach((e,t)=>{object[e]=t}),data=JSON.stringify(object)}else if(contentType.startsWith("application/x-www-form-urlencoded")){let array=[];formData.forEach((e,t)=>{array.push(e+"="+encodeURIComponent(t))}),data=array.join("&")}}const xmlHttpRequest=new XMLHttpRequest;let errorHandler=function(event){null!=error&&eval(error)(event.target.status,event.target.responseText)};return xmlHttpRequest.addEventListener("load",event=>{if(event.preventDefault(),200===event.target.status){if(null!=destination){let container=document.getElementById(destination);null!==destination?(container.innerHTML=event.target.responseText,__aw_bind(container)):console.error("Container (id="+destination+") not found.")}null!=after&&eval(after)(afterArg,data)}else errorHandler(event)}),xmlHttpRequest.addEventListener("error",errorHandler),xmlHttpRequest.open(method,href,!0),xmlHttpRequest.setRequestHeader("Content-Type",contentType),xmlHttpRequest.setRequestHeader("X-Requested-With","XMLHttpRequest"),xmlHttpRequest.send(data),!1};window.addEventListener("load",function(e){__aw_bind(document)});